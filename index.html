<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë„¤ê¾¸ ìŠ¤í‹°ì»¤ & bê¸‰ ê°ì„± ë…¸íŠ¸</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              navy: {
                50: '#f0f4f8',
                100: '#d9e2ec',
                500: '#334e68',
                800: '#102a43',
                900: '#0a1c2e',
              }
            },
            animation: {
              'slide-up': 'slideUp 0.3s ease-out forwards',
              'scale-up': 'scaleUp 0.3s ease-out forwards',
              'fade-in': 'fadeIn 0.3s ease-out forwards',
            },
            keyframes: {
              slideUp: {
                '0%': { transform: 'translateY(100%)' },
                '100%': { transform: 'translateY(0)' },
              },
              scaleUp: {
                '0%': { transform: 'scale(0.95)', opacity: '0' },
                '100%': { transform: 'scale(1)', opacity: '1' },
              },
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              }
            }
          }
        }
      }
    </script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body {
        font-family: 'Noto Sans KR', sans-serif;
        background-color: #f8fafc;
      }
      .safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom);
      }
      /* Hide scrollbar for clean modal look */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
      // ==========================================
      // 1. Constants & Data
      // ==========================================
      
      const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxoGePknfpJ9DnWl-fqh_T0TeueILxhRynjsmOBsuY5iN5Vk6Y6ozprtoUvbI_JzhCTYQ/exec";
      
      const BANK_INFO = {
        name: "ì¹´ì¹´ì˜¤ë±…í¬",
        accountNumber: "79422 291245",
        holder: "ì´í™ë²”"
      };

      const SHIPPING_FEE = 3600;

      // [ì´ë¯¸ì§€ ì„¤ì • ì™„ë£Œ] ì‚¬ìš©ì ì œê³µ í˜¸ìŠ¤íŒ… ì´ë¯¸ì§€ ì—°ê²°
      const PRODUCTS = [
        // ë…¸íŠ¸ë¥˜
        { id: 1, name: "bê¸‰ ê°ì„± ë…¸íŠ¸- A", price: 4200, imageSrc: "https://i.ifh.cc/F9bhdk.jpg" }, // ì»¤í”¼ ë§ê±° ê·¸ë¦¼
        { id: 2, name: "bê¸‰ ê°ì„± ë…¸íŠ¸- B", price: 4200, imageSrc: "https://i.ifh.cc/27R7hl.jpg" }, // ëˆ„ì›ŒìˆëŠ” í† ë¼
        { id: 3, name: "bê¸‰ ê°ì„± ë…¸íŠ¸- C", price: 4200, imageSrc: "https://i.ifh.cc/yRSCsS.jpg" }, // ì»´í“¨í„° í•˜ëŠ” í† ë¼
        { id: 4, name: "bê¸‰ ê°ì„± ë…¸íŠ¸- D", price: 4200, imageSrc: "https://i.ifh.cc/mHzMol.jpg" }, // ëŒ“ê¸€/í…ìŠ¤íŠ¸
        
        // ìŠ¤í‹°ì»¤ë¥˜
        { id: 5, name: "ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ë½€ìš©ë§›", price: 2200, imageSrc: "https://i.ifh.cc/Pavthq.jpg" }, // íŒŒë€ìƒ‰ SJ/ê³ ì–‘ì´
        { id: 6, name: "ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ì‡ ë§›", price: 2200, imageSrc: "https://i.ifh.cc/qrKMhw.jpg" },   // ê²€ì • ë©”íƒˆ SJ/ê°•ì•„ì§€
        { id: 7, name: "ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ìŠ¤ë²…ë§›", price: 2200, imageSrc: "https://i.ifh.cc/yzMYzG.jpg" },   // ë² ì´ì§€ SJ/íŠ¤ë¦½

        // ì„¸íŠ¸ë¥˜
        { id: 8, name: "ì„¸íŠ¸ A (ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ì‡ ë§›+ bê¸‰ ê°ì„± ë…¸íŠ¸-A )", price: 6200, imageSrc: "https://i.ifh.cc/m1PT4T.jpg" },
        { id: 9, name: "ì„¸íŠ¸ B (ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ë½€ìš©ë§›+ bê¸‰ ê°ì„± ë…¸íŠ¸-B)", price: 6200, imageSrc: "https://i.ifh.cc/F3lJsb.jpg" },
        { id: 10, name: "ì„¸íŠ¸ C (ë„¤ê¾¸ ìŠ¤í‹°ì»¤-ìŠ¤ë²…ë§›+ bê¸‰ ê°ì„± ë…¸íŠ¸-C)", price: 6200, imageSrc: "https://i.ifh.cc/Ah1DFK.jpg" }
      ];

      // ==========================================
      // 2. Components
      // ==========================================

      // --- ProductCard Component ---
      const ProductCard = ({ product, quantity, onIncrement, onDecrement }) => {
        return (
          <div className="bg-white rounded-2xl shadow-sm overflow-hidden flex flex-col sm:flex-row p-4 gap-4 border border-gray-100">
            {/* Product Image */}
            <div className="w-full sm:w-32 h-64 sm:h-32 flex-shrink-0 bg-gray-50 rounded-xl overflow-hidden relative border border-gray-100">
              <img 
                src={product.imageSrc} 
                alt={product.name} 
                className="w-full h-full object-cover"
                onError={(e) => {
                  e.target.onerror = null;
                  // ë§Œì•½ í˜¸ìŠ¤íŒ…ëœ ì´ë¯¸ì§€ë„ ë¡œë“œ ì‹¤íŒ¨ì‹œ ë³´ì—¬ì¤„ ëŒ€ì²´ ì´ë¯¸ì§€
                  e.target.src = `https://placehold.co/400x400/f1f5f9/334155?text=${encodeURIComponent(product.name.replace(/\(.*\)/, ''))}`;
                }}
              />
            </div>

            {/* Product Details & Controls */}
            <div className="flex-1 flex flex-col justify-between">
              <div>
                <h3 className="text-lg font-bold text-gray-900">{product.name}</h3>
                <p className="text-navy-900 font-medium mt-1">
                  {product.price.toLocaleString()}ì›
                </p>
              </div>

              {/* Quantity Controls */}
              <div className="flex items-center justify-end mt-4 sm:mt-0">
                <div className="flex items-center bg-gray-50 rounded-lg p-1 border border-gray-200">
                  <button
                    onClick={() => onDecrement(product.id)}
                    className={`w-8 h-8 flex items-center justify-center rounded-md transition-colors ${
                      quantity > 0 
                        ? 'bg-white shadow-sm text-navy-900 hover:bg-gray-50' 
                        : 'text-gray-300 cursor-not-allowed'
                    }`}
                    disabled={quantity === 0}
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                      <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                    </svg>
                  </button>
                  
                  <span className="w-10 text-center font-bold text-gray-900">
                    {quantity}
                  </span>

                  <button
                    onClick={() => onIncrement(product.id)}
                    className="w-8 h-8 flex items-center justify-center rounded-md bg-white shadow-sm text-navy-900 hover:bg-gray-50"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                      <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // --- BottomBar Component ---
      const BottomBar = ({ totalQuantity, totalPrice, onOrder }) => {
        return (
          <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] p-4 pb-6 md:pb-4 safe-area-bottom z-40">
            <div className="max-w-2xl mx-auto flex items-center justify-between gap-4">
              
              <div className="flex flex-col">
                <span className="text-sm text-gray-500">ì´ ìˆ˜ëŸ‰ {totalQuantity}ê°œ</span>
                <span className="text-xl font-bold text-navy-900">
                  {totalPrice.toLocaleString()}ì›
                </span>
              </div>

              <button
                onClick={onOrder}
                disabled={totalQuantity === 0}
                className={`px-8 py-3 rounded-xl font-bold text-lg transition-all ${
                  totalQuantity > 0
                    ? 'bg-navy-900 text-white shadow-lg shadow-navy-900/30 hover:bg-navy-800 active:scale-95'
                    : 'bg-gray-200 text-gray-400 cursor-not-allowed'
                }`}
              >
                ì£¼ë¬¸í•˜ê¸°
              </button>
            </div>
          </div>
        );
      };

      // --- OrderModal Component ---
      const OrderModal = ({ isOpen, onClose, items, totalPrice }) => {
        const [copied, setCopied] = React.useState(false);
        const [isSubmitting, setIsSubmitting] = React.useState(false);
        
        // Form State
        const [formData, setFormData] = React.useState({
          name: '',
          contact: '',
          address: '',
          detailAddress: '',
          initial: '',
          batch32Name: ''
        });

        const [isBatch32, setIsBatch32] = React.useState(false);

        // Derived Calculations
        const hasSticker = items.some(item => item.name.includes('ìŠ¤í‹°ì»¤'));
        const currentShippingFee = isBatch32 ? 0 : SHIPPING_FEE;
        const finalTotalPrice = totalPrice + currentShippingFee;

        React.useEffect(() => {
          if (isOpen) {
            setFormData({
              name: '',
              contact: '',
              address: '',
              detailAddress: '',
              initial: '',
              batch32Name: ''
            });
            setIsBatch32(false);
            setCopied(false);
            setIsSubmitting(false);
          }
        }, [isOpen]);

        if (!isOpen) return null;

        const handleCopyAccount = () => {
          const textToCopy = `${BANK_INFO.name} ${BANK_INFO.accountNumber} ${BANK_INFO.holder}`;
          navigator.clipboard.writeText(textToCopy).then(() => {
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
          });
        };

        const handleInputChange = (e) => {
          const { name, value } = e.target;
          setFormData(prev => ({ ...prev, [name]: value }));
        };

        const handleCompleteOrder = async () => {
          // 1. Validation
          if (!formData.name.trim()) { alert('ì£¼ë¬¸ì ì„±í•¨(ë°°ì†¡ë°›ëŠ” ë¶„)ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
          if (!formData.contact.trim()) { alert('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
          if (!formData.address.trim()) { alert('ë„ë¡œëª… ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
          if (!formData.detailAddress.trim()) { alert('ìƒì„¸ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
          
          if (isBatch32 && !formData.batch32Name.trim()) {
            alert('32ê¸° ë¶€ì› ì¸ì¦ì„ ìœ„í•´ ë³¸ì¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }

          if (hasSticker && !formData.initial.trim()) {
            alert('ìŠ¤í‹°ì»¤ ìƒí’ˆì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë‹ˆì…œì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return;
          }

          // 2. Prepare Data
          const orderItemsSummary = items
            .map(item => `${item.name} (${item.quantity}ê°œ)`)
            .join(', ');

          const orderData = {
            name: formData.name,
            phone: formData.contact,
            address: formData.address,
            detailAddress: formData.detailAddress,
            isMember: isBatch32,
            memberName: isBatch32 ? formData.batch32Name : '',
            orderItems: orderItemsSummary,
            initial: hasSticker ? formData.initial : '',
            totalPrice: `${finalTotalPrice.toLocaleString()}ì›`
          };

          setIsSubmitting(true);

          try {
            // 3. Send POST Request with fixed options for Google Apps Script
            await fetch(GOOGLE_SCRIPT_URL, {
              method: 'POST',
              mode: 'no-cors', // [ì¤‘ìš”] CORS ì •ì±… ìš°íšŒ
              headers: {
                'Content-Type': 'text/plain;charset=utf-8', // [ì¤‘ìš”] Preflight ë°©ì§€
              },
              body: JSON.stringify(orderData),
            });

            // 4. Success Handling (no-cors always resolves unless network error)
            alert("ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤! ì…ê¸ˆ ë¶€íƒë“œë¦½ë‹ˆë‹¤.");
            window.location.reload();

          } catch (error) {
            console.error('Order submission failed:', error);
            alert('ì£¼ë¬¸ ì ‘ìˆ˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            setIsSubmitting(false);
          }
        };

        return (
          <div className="fixed inset-0 z-50 flex items-end md:items-center justify-center">
            <div 
              className="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity" 
              onClick={isSubmitting ? undefined : onClose}
            />

            <div className="relative bg-white w-full max-w-md md:rounded-2xl rounded-t-2xl shadow-2xl overflow-hidden animate-slide-up md:animate-scale-up flex flex-col max-h-[90vh]">
              
              {/* Header */}
              <div className="bg-navy-900 p-4 text-white flex justify-between items-center shrink-0">
                <h2 className="text-lg font-bold">ì£¼ë¬¸ ì‘ì„±</h2>
                <button 
                  onClick={onClose} 
                  className="text-white/80 hover:text-white p-1"
                  disabled={isSubmitting}
                >
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                  </svg>
                </button>
              </div>

              {/* Scrollable Body */}
              <div className="p-5 overflow-y-auto overflow-x-hidden no-scrollbar">
                
                {/* 1. Bank Info */}
                <div className="bg-navy-50 rounded-xl p-4 border border-navy-100 mb-6">
                  <h3 className="text-navy-900 font-bold mb-2 flex items-center gap-2 text-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                      <path d="M8 1a2 2 0 0 1 2 2v2H5V3a2 2 0 0 1 2-2zm6 8H2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/>
                      <path d="M4 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H4z"/>
                    </svg>
                    ì…ê¸ˆ ê³„ì¢Œ ì•ˆë‚´
                  </h3>
                  <div className="bg-white rounded-lg p-3 border border-gray-200 flex flex-col items-center justify-center mb-3">
                     <span className="text-xs text-gray-500 mb-1">{BANK_INFO.name}</span>
                     <span className="text-lg font-bold text-gray-900 tracking-wide">{BANK_INFO.accountNumber}</span>
                     <span className="text-sm text-gray-700 mt-1">ì˜ˆê¸ˆì£¼: {BANK_INFO.holder}</span>
                  </div>
                  <button 
                    onClick={handleCopyAccount}
                    className={`w-full py-2 rounded-lg text-xs font-bold transition-all duration-300 flex items-center justify-center gap-2 ${
                      copied 
                        ? 'bg-green-500 text-white' 
                        : 'bg-navy-900 text-white hover:bg-navy-800'
                    }`}
                  >
                    {copied ? 'ë³µì‚¬ ì™„ë£Œ!' : 'ê³„ì¢Œë²ˆí˜¸ ë³µì‚¬í•˜ê¸°'}
                  </button>
                </div>

                {/* 2. 32nd Batch Verification */}
                <div className="mb-6">
                   <label className="flex items-center gap-3 p-3 border border-navy-100 rounded-xl bg-white shadow-sm cursor-pointer select-none">
                      <input 
                        type="checkbox" 
                        checked={isBatch32}
                        onChange={(e) => setIsBatch32(e.target.checked)}
                        disabled={isSubmitting}
                        className="w-5 h-5 text-navy-900 rounded focus:ring-navy-500 border-gray-300"
                      />
                      <span className="font-bold text-navy-900 text-sm">
                        ì €ëŠ” 32ê¸° ë¶€ì›ì…ë‹ˆë‹¤ <span className="text-red-500">(ë°°ì†¡ë¹„ ë¬´ë£Œ)</span>
                      </span>
                   </label>
                   
                   {isBatch32 && (
                      <div className="mt-2 animate-fade-in pl-2">
                         <input
                            type="text"
                            name="batch32Name"
                            value={formData.batch32Name}
                            onChange={handleInputChange}
                            placeholder="32ê¸° ë³¸ì¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                            disabled={isSubmitting}
                            className="w-full px-4 py-3 rounded-lg border border-navy-200 focus:ring-2 focus:ring-navy-500 focus:border-navy-500 outline-none transition-all text-sm bg-navy-50"
                         />
                      </div>
                   )}
                </div>

                {/* 3. Order Summary */}
                <div className="mb-6 border-b border-gray-100 pb-4">
                  <h3 className="text-sm font-bold text-gray-500 mb-2">ì£¼ë¬¸ ë‚´ì—­ ìš”ì•½</h3>
                  <div className="bg-gray-50 rounded-lg p-3 text-sm text-gray-700 space-y-1">
                    {items.map((item) => (
                      <div key={item.id} className="flex justify-between">
                        <span>{item.name} Ã— {item.quantity}</span>
                        <span className="font-medium">{(item.price * item.quantity).toLocaleString()}ì›</span>
                      </div>
                    ))}
                    
                    <div className="border-t border-gray-200 my-2 pt-2 space-y-1">
                      <div className="flex justify-between text-gray-500">
                         <span>ìƒí’ˆ í•©ê³„</span>
                         <span>{totalPrice.toLocaleString()}ì›</span>
                      </div>
                      <div className="flex justify-between text-gray-500">
                         <span>ë°°ì†¡ë¹„</span>
                         <span>
                           {isBatch32 ? <span className="text-red-500 font-bold">0ì› (32ê¸° ë¬´ë£Œ)</span> : `${SHIPPING_FEE.toLocaleString()}ì›`}
                         </span>
                      </div>
                    </div>

                    <div className="border-t border-gray-200 pt-2 flex justify-between font-bold text-navy-900 text-base">
                      <span>ì´ ê²°ì œ ê¸ˆì•¡</span>
                      <span className="text-lg">{finalTotalPrice.toLocaleString()}ì›</span>
                    </div>
                  </div>
                </div>

                {/* 4. Delivery Form */}
                <div className="space-y-4">
                  <h3 className="text-lg font-bold text-navy-900 flex items-center gap-2">
                    ë°°ì†¡ì§€ ì •ë³´ ì…ë ¥
                    <span className="text-xs font-normal text-red-500">*í•„ìˆ˜</span>
                  </h3>
                  
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">ì£¼ë¬¸ì ì„±í•¨ (ë°°ì†¡ë°›ëŠ” ë¶„)</label>
                    <input
                      type="text"
                      name="name"
                      value={formData.name}
                      onChange={handleInputChange}
                      placeholder="í™ê¸¸ë™"
                      disabled={isSubmitting}
                      className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-navy-500 focus:border-navy-500 outline-none transition-all"
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">ì—°ë½ì²˜</label>
                    <input
                      type="tel"
                      name="contact"
                      value={formData.contact}
                      onChange={handleInputChange}
                      placeholder="010-0000-0000"
                      disabled={isSubmitting}
                      className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-navy-500 focus:border-navy-500 outline-none transition-all"
                    />
                  </div>

                  <div className="flex flex-col gap-2">
                    <label className="block text-sm font-medium text-gray-700">ì£¼ì†Œ</label>
                    <input
                      type="text"
                      name="address"
                      value={formData.address}
                      onChange={handleInputChange}
                      placeholder="ë„ë¡œëª… ì£¼ì†Œ (ì˜ˆ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123)"
                      disabled={isSubmitting}
                      className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-navy-500 focus:border-navy-500 outline-none transition-all"
                    />
                    <input
                      type="text"
                      name="detailAddress"
                      value={formData.detailAddress}
                      onChange={handleInputChange}
                      placeholder="ìƒì„¸ ì£¼ì†Œ (ì˜ˆ: 101ë™ 101í˜¸)"
                      disabled={isSubmitting}
                      className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-navy-500 focus:border-navy-500 outline-none transition-all"
                    />
                  </div>

                  {/* Conditional Initial Input */}
                  {hasSticker && (
                    <div className="animate-fade-in bg-yellow-50 p-4 rounded-xl border border-yellow-200">
                      <label className="block text-sm font-bold text-yellow-800 mb-1">
                        âœ¨ ì´ë‹ˆì…œ ì…ë ¥ (ì˜ë¬¸)
                        <span className="block text-xs font-normal text-yellow-700 mt-0.5">
                          ìŠ¤í‹°ì»¤ ìƒí’ˆì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì›í•˜ì‹œëŠ” ì´ë‹ˆì…œì„ ì ì–´ì£¼ì„¸ìš”.
                        </span>
                      </label>
                      <input
                        type="text"
                        name="initial"
                        value={formData.initial}
                        onChange={handleInputChange}
                        placeholder="ì˜ˆ: H.G.D"
                        disabled={isSubmitting}
                        className="w-full px-4 py-3 mt-2 rounded-lg border border-yellow-300 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 outline-none transition-all bg-white"
                      />
                    </div>
                  )}
                </div>

                <div className="h-4"></div>
              </div>

              {/* Footer Action */}
              <div className="p-4 border-t border-gray-100 bg-white shrink-0 safe-area-bottom">
                <button
                  onClick={handleCompleteOrder}
                  disabled={isSubmitting}
                  className={`w-full py-4 bg-navy-900 text-white rounded-xl font-bold text-lg shadow-lg shadow-navy-900/20 hover:bg-navy-800 active:scale-95 transition-all flex items-center justify-center gap-2 ${isSubmitting ? 'opacity-70 cursor-wait' : ''}`}
                >
                  {isSubmitting ? (
                    <>
                      <svg className="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                      </svg>
                      ì ‘ìˆ˜ ì¤‘...
                    </>
                  ) : (
                    `${finalTotalPrice.toLocaleString()}ì› ê²°ì œí•˜ê¸° (ì£¼ë¬¸ ì™„ë£Œ)`
                  )}
                </button>
              </div>

            </div>
          </div>
        );
      };

      // --- App Component ---
      const App = () => {
        const [cart, setCart] = React.useState({});
        const [isModalOpen, setIsModalOpen] = React.useState(false);

        const handleIncrement = (id) => {
          setCart((prev) => ({ ...prev, [id]: (prev[id] || 0) + 1 }));
        };

        const handleDecrement = (id) => {
          setCart((prev) => {
            const currentQty = prev[id] || 0;
            if (currentQty <= 0) return prev;
            const newQty = currentQty - 1;
            return { ...prev, [id]: newQty };
          });
        };

        const totalQuantity = Object.values(cart).reduce((sum, qty) => sum + qty, 0);

        const totalPrice = PRODUCTS.reduce((sum, product) => {
          const qty = cart[product.id] || 0;
          return sum + (product.price * qty);
        }, 0);

        const cartItems = PRODUCTS
          .filter((p) => (cart[p.id] || 0) > 0)
          .map((p) => ({ ...p, quantity: cart[p.id] || 0 }));

        return (
          <div className="min-h-screen pb-32 flex flex-col items-center bg-[#f8fafc]">
            {/* Header */}
            <header className="w-full bg-white shadow-sm sticky top-0 z-30">
              <div className="max-w-2xl mx-auto px-6 py-4">
                <h1 className="text-xl md:text-2xl font-extrabold text-navy-900 text-center md:text-left break-keep">
                  ë„¤ê¾¸ ìŠ¤í‹°ì»¤ & bê¸‰ ê°ì„± ë…¸íŠ¸
                </h1>
              </div>
            </header>

            {/* Main Content */}
            <main className="w-full max-w-2xl px-4 py-6 space-y-6">
              
              {/* Description Section */}
              <div className="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 text-gray-700">
                <p className="font-bold text-navy-900 text-lg mb-3 leading-snug break-keep">
                  11/28~12/06, ì´ 9ì¼ ë™ì•ˆë§Œ êµ¬ë§¤í•  ìˆ˜ ìˆëŠ”<br className="hidden md:block"/>
                  ë„¤ê¾¸ ìŠ¤í‹°ì»¤ & Bê¸‰ ê°ì„± ë…¸íŠ¸!
                </p>
                <div className="space-y-2 text-sm md:text-base leading-relaxed break-keep">
                  <p>
                    ì´ë²ˆ êµ¿ì¦ˆëŠ” ì¬ì…ê³  ì˜ˆì • ì—†ì´ ì´ë²ˆ íŒë§¤ë¡œë§Œ ë§Œë‚˜ë³´ì‹¤ ìˆ˜ ìˆì–´ìš” ğŸ¤
                  </p>
                  <p>
                    ëª¨ë“  ì œí’ˆì€ 12/17ì¼ë¶€ë¡œ ë°°ì†¡ì„ ì‹œì‘í•©ë‹ˆë‹¤.
                  </p>
                  <p className="font-bold text-navy-800">
                    ì¹´ì¹´ì˜¤ë±…í¬ 79422 291245 (ì´í™ë²”)
                  </p>
                  <p className="text-gray-500 text-xs pt-2">
                    ë¬¸ì˜ ì‚¬í•­ì€ univpt ê³µì‹ ì¸ìŠ¤íƒ€ê·¸ë¨ìœ¼ë¡œ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
                  </p>
                </div>
              </div>

              {/* Product List */}
              <div className="space-y-4">
                {PRODUCTS.map((product) => (
                  <ProductCard
                    key={product.id}
                    product={product}
                    quantity={cart[product.id] || 0}
                    onIncrement={handleIncrement}
                    onDecrement={handleDecrement}
                  />
                ))}
              </div>
            </main>

            <BottomBar
              totalQuantity={totalQuantity}
              totalPrice={totalPrice}
              onOrder={() => setIsModalOpen(true)}
            />

            <OrderModal
              isOpen={isModalOpen}
              onClose={() => setIsModalOpen(false)}
              items={cartItems}
              totalPrice={totalPrice}
            />
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
</body>
</html>